<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ product.name }} - ELHERAFEEN</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container header-wrapper">
            <a href="/" class="logo">ELHERAFEEN</a>
            <div class="nav-icons">
                <a href="/" class="nav-icon" style="font-size:1rem; text-decoration:none">Home</a>
                <button class="nav-icon"><i class="fas fa-shopping-cart"></i></button>
            </div>
        </div>
    </header>

    <div class="container" style="padding-top:2rem; padding-bottom:4rem;">
        <nav class="breadcrumb">
            <a href="/">Home</a> <span>/</span>
            <span>{{ product.category }}</span> <span>/</span>
            <span style="color:var(--text-main); font-weight:500">{{ product.name }}</span>
        </nav>

        <div class="detail-container">
            <!-- Left: Images -->
            <div>
                {% set icons = {'Engine': 'fa-cogs', 'Brakes': 'fa-compact-disc', 'Electrical': 'fa-bolt', 'Suspension': 'fa-spring', 'Cooling': 'fa-fan', 'Fluids': 'fa-oil-can'} %}
                {% set colors = {'Engine': 'bg-gray-200', 'Brakes': 'bg-red-50', 'Electrical': 'bg-yellow-50', 'Suspension': 'bg-blue-50', 'Cooling': 'bg-cyan-50', 'Fluids': 'bg-amber-50'} %}
                
                <div class="detail-img-box {{ colors[product.category] }}">
                    <i class="fas {{ icons[product.category] or 'fa-box' }} detail-icon"></i>
                    <span class="card-badge" style="top:1rem; left:1rem; right:auto;">{{ product.condition }}</span>
                </div>
                <div class="thumbnails">
                    <div class="thumb"><i class="fas fa-camera"></i></div>
                    <div class="thumb"><i class="fas fa-box-open"></i></div>
                    <div class="thumb"><i class="fas fa-tag"></i></div>
                </div>
            </div>

            <!-- Right: Info -->
            <div class="detail-info">
                <div class="brand-text" style="color:var(--primary-color); font-size:0.875rem;">{{ product.brand }}</div>
                <h1 class="detail-title">{{ product.name }}</h1>
                <div class="rating">
                    <span style="color: #f59e0b; margin-right: 0.5rem;">★★★★★</span>
                    <span style="color: #6b7280; font-size: 0.875rem;">{{ product.sold_count }} sold</span>
                </div>

                <div class="detail-price">{{ product.price }} <span class="currency" style="font-size:1.25rem">{{ product.currency }}</span></div>

                <div class="description">
                    <p>{{ product.description }}</p>
                </div>

                <form method="post" action="/add-to-cart" style="margin-top: 1.5rem;">
                    <div class="actions">
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <label for="qty" style="font-weight: 600;">Quantity:</label>
                            <select id="qty" name="quantity" style="padding: 0.5rem; border: 1px solid #d1d5db; border-radius: 0.375rem;">
                                {% for i in range(1, product.stock + 1) %}
                                <option value="{{ i }}" {% if i == 1 %}selected{% endif %}>{{ i }}</option>
                                {% endfor %}
                            </select>
                            <span style="color: #6b7280; font-size: 0.875rem;">{{ product.stock }} available</span>
                        </div>
                        <input type="hidden" name="product_id" value="{{ product.id }}">
                        <button type="submit" style="margin-top: 1rem; padding: 0.75rem 2rem; background-color: var(--primary-color); color: white; border: none; border-radius: 0.375rem; cursor: pointer; font-weight: 600;">
                            <i class="fas fa-shopping-cart"></i> Add to Cart
                        </button>
                    </div>
                </form>
                
                <div style="margin-top:2rem; padding-top:1.5rem; border-top:1px solid #f3f4f6; color:#6b7280; font-size:0.875rem; display:flex; flex-direction:column; gap:0.75rem;">
                    <div><strong style="color: var(--text-main);">OEM:</strong> {{ product.oem }}</div>
                    <div><strong style="color: var(--text-main);">Seller:</strong> {{ product.seller_name }}</div>
                    <div><strong style="color: var(--text-main);">Category:</strong> {{ product.category }}</div>
                    <div><strong style="color: var(--text-main);">Type:</strong> {{ product.type }}</div>
                </div>
            </div>
        </div>

        <div class="features-box">
            <div class="tabs">
                <div class="tab active">Description</div>
                <div class="tab">Specifications</div>
                <div class="tab">Reviews (3)</div>
            </div>
            <div class="tab-content">
                <h3 style="margin-top:0;">Product Description</h3>
                <p>{{ product.description }}</p>
                <p>The {{ product.brand }} {{ product.name }} is engineered to meet or exceed OEM specifications. Designed for durability and performance.</p>
                
                <h3>Key Features</h3>
                <ul style="padding-left:1.5rem">
                    <li>Brand: {{ product.brand }}</li>
                    <li>Condition: {{ product.condition }}</li>
                    <li>Category: {{ product.category }}</li>
                    <li>Type: {{ product.type }}</li>
                    <li>Tags: {{ ', '.join(product.tags) }}</li>
                </ul>
                
            </div>
        </div>
    </div>

</body>
</html>